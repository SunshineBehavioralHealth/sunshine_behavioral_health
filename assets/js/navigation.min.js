"use strict";
jQuery(document).ready(function (e) {
  e("#primary-menu > li").addClass("top_level_nav_item"),
    e("#primary-menu .top_level_nav_1 > a").attr("href", "#"),
    e("#primary-menu .top_level_nav_2 > a").attr("href", "#"),
    e("#primary-menu .top_level_nav_3 > a").attr("href", "#"),
    e("#primary-menu .top_level_nav_4 > a").attr("href", "#"),
    e(".top_level_nav_item").click(function () {
      e(".top_level_nav_item").not(e(this)).removeClass("active_nav_item"),
        e(".top_level_nav_item")
          .not(e(this))
          .find(".sub_menu_wrapper")
          .removeClass("showNav"),
        e(".top_level_nav_item")
          .not(e(this))
          .find(".sub-menu")
          .removeClass("showNav"),
        e(this).find(".sub_menu_wrapper").toggleClass("showNav"),
        e(this).toggleClass("active_nav_item"),
        e(this).find(".sub-menu").toggleClass("showNav");
    }),
    e(".top_level_nav_item").hover(function (a) {
      window.matchMedia("(min-width: 1024px)").matches &&
        (e(this).find(".sub_menu_wrapper").addClass("showNav"),
          e(".top_level_nav_item")
            .not(e(this))
            .find(".sub_menu_wrapper")
            .removeClass("showNav"));
    }),
    e(".sub-menu").wrap('<div class="sub_menu_wrapper"></div>');
  var a = e(".sub-menu .sub-menu");
  a.parent().is(".sub_menu_wrapper") && a.unwrap(),
    e(".nav_links_column").wrapAll(
      '<div class="nav_link_column_wrapper"></div>'
    ),
    e(".nav_links_column_2").wrapAll(
      '<div class="nav_link_column_wrapper"></div>'
    ),
    e(".nav_links_column_3").wrapAll(
      '<div class="nav_link_column_wrapper"></div>'
    ),
    e(".nav_links_column_4").wrapAll(
      '<div class="nav_link_column_wrapper"></div>'
    ),
    e(".nav_links_column_5").wrapAll(
      '<div class="nav_link_column_wrapper"></div>'
    ),
    e(".nav_links_column_6").wrapAll(
      '<div class="nav_link_column_wrapper"></div>'
    ),
    e(".nav_links_column_7").wrapAll(
      '<div class="nav_link_column_wrapper"></div>'
    ),
    e(".nav_links_column_8").wrapAll(
      '<div class="nav_link_column_wrapper"></div>'
    ),
    e(".toc").click(function (a) {
      e(".toc li").toggleClass("showTOC"),
        e(".toc img").toggleClass("dropdown_active");
    });
  let n = e(window).width();
  if (n < 768) {
    function t() {
      e(".search_bar_container .search-field").attr("placeholder", "Search...");
    }
    e(".search_bar_magnifying_glass_icon").click(function (a) {
      e(".search_bar_wrapper").toggleClass("show_flex");
    }),
      e(".top_level_nav_5 a").next().text("Insurance"),
      t();
  } else {
    function t() {
      e(".search_bar_container .search-field").attr(
        "placeholder",
        "Search Addiction or Treatment"
      );
    }
    t();
  }
  n > 1024 &&
    (e(".toc li").addClass("showTOC"),
      e(".toc img").addClass("dropdown_active")),
    e(".top_level_nav_item").hover(),
    n > 1024 &&
    (e(".search_bar_container").hover(function (a) {
      e(".desktop_nav_search_subnav_wrapper").addClass("show_flex");
    }),
      e(".desktop_nav_search_subnav_wrapper").mouseleave(function (a) {
        e(".desktop_nav_search_subnav_wrapper").removeClass("show_flex");
      }),
      e("main").hover(function (a) {
        e(".desktop_nav_search_subnav_wrapper").removeClass("show_flex");
      }),
      e(".top_level_nav_item").hover(function (a) {
        e(".desktop_nav_search_subnav_wrapper").removeClass("show_flex");
      })),
    e(document).on("keydown", function (a) {
      "Escape" == a.key &&
        (e(".sub_menu_wrapper").removeClass("showNav"));
    }),
    e("#primary").click(function () {
      e(".sub_menu_wrapper").removeClass("showNav");
    }),
    e("footer").hover(function () {
      e(".sub_menu_wrapper").removeClass("showNav");
    }),
    e("main").hover(function () {
      e(".sub_menu_wrapper").removeClass("showNav");
    });
  let r = e(".search_query_shortcode_button");
  var _;
  r.click(function () {
    e(
      ".search_query_shortcode_content_container ul .search_query_shortcode_element"
    ).toggleClass("showAllQueryResults"),
      r.toggleClass("active"),
      r.hasClass("active") ? r.text("Show Less") : r.text("Show More");
  }),
    setTimeout(function () {
      e("#primary-menu > li").addClass("top_level_nav_item"),
        e("#primary-menu .top_level_nav_1 > a").attr("target", ""),
        e("#primary-menu .top_level_nav_2 > a").attr("target", ""),
        e("#primary-menu .top_level_nav_3 > a").attr("target", ""),
        e("#primary-menu .top_level_nav_4 > a").attr("target", "");
    }, 300),
    (_ = function () {
      for (
        var e = window.location.hostname,
        a = new RegExp(
          "^((((http:\\/\\/|https:\\/\\/)(www\\.)?)?" +
          e +
          ")|(localhost:\\d{4})|(\\/.*))(\\/.*)?$",
          ""
        ),
        n = document.querySelectorAll("a"),
        t = n.length,
        r = 0;
        r < t;
        r++
      ) {
        var _ = n[r],
          o = _.getAttribute("href");
        a.test(o) || _.setAttribute("target", "_blank");
      }
    }),
    "loading" != document.readyState
      ? _()
      : document.addEventListener
        ? document.addEventListener("DOMContentLoaded", _)
        : document.attachEvent("onreadystatechange", function () {
          "loading" != document.readyState && _();
        });

  function offsetAnchor() {
    if (location.hash.length !== 0) {
      window.scrollTo(window.scrollX, window.scrollY - 100);
    }
    
  }

  // This will capture hash changes while on the page
  window.addEventListener("hashchange", offsetAnchor);

  // Adds GTM class to submit button on forms
  e('footer .gform_footer input[type=submit]').addClass('footerContactForm');
  e('.contact_us_container .gform_footer input[type=submit]').addClass('footerContactForm');
  e('.short_code_contact_form_cta_form_container .gform_footer input[type=submit]').addClass('contactFormCta');
});
